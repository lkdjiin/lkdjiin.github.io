
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Le hack FizzBuzz en Ruby - Xavier Nayrac</title>
  <meta name="author" content="Xavier Nayrac">

  
  <meta name="description" content="Niveau : intermédiaire Voici ce qui trainait sur le net aujourd’hui, un jeu de
FizzBuzz en une ligne de Ruby: 1
1.upto(100){|n|puts&#39;FizzBuzz &#39 &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://lkdjiin.github.io/blog/2015/04/30/le-hack-fizzbuzz-en-ruby">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="Xavier Nayrac" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/lib/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">


  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-39286891-4']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <header role="banner"><a href="/">
  <img src="http://www.gravatar.com/avatar/f6d0dff2dbb2fdc08fb1318116ea572c?s=140"/>
</a>
<h1><a href="/">Xavier Nayrac</a></h1>
<h2>
  Rubyiste accro au TDD, serial blogger, apprenti data scientist, heureux utilisateur de Vim,
  accordéoniste.<br/>
  Si vous vous sentez particulièrement généreux,
  <a href="https://twitter.com/lkdjiin">suivez moi sur Twitter</a>.
</h2>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS"><img src="/images/rss.png"></img>
    RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="sitesearch" value="lkdjiin.github.io">
    <input class="search" type="text" name="q" results="0" placeholder="Chercher"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      <h1 class="entry-title">Le hack FizzBuzz en Ruby</h1>
    
    
      <p class="meta">
        








  


<time datetime="2015-04-30T17:07:00+02:00" pubdate data-updated="true">30 avril 2015</time>
        
         | <a href="#disqus_thread">Comments</a>
        
      </p>
    
  </header>


<div class="entry-content"><div class="level-tag level-tag-2">Niveau : <span>intermédiaire</span></div>

<p>Voici ce qui trainait sur le net aujourd’hui, un jeu de
<a href="http://en.wikipedia.org/wiki/Fizz_buzz">FizzBuzz</a> en une ligne de Ruby:</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
</pre></td><td class="code"><pre><code class="ruby"><span class="line"><span class="mi">1</span><span class="o">.</span><span class="n">upto</span><span class="p">(</span><span class="mi">100</span><span class="p">){</span><span class="o">|</span><span class="n">n</span><span class="o">|</span><span class="nb">puts</span><span class="s1">&#39;FizzBuzz &#39;</span><span class="o">[</span><span class="n">o</span><span class="o">=</span><span class="n">n</span><span class="o">**</span><span class="mi">4</span><span class="o">%-</span><span class="mi">15</span><span class="p">,</span><span class="n">o</span><span class="o">+</span><span class="mi">13</span><span class="o">]||</span><span class="n">n</span><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>Ce qui donne:</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
<span class="line-number">13</span>
<span class="line-number">14</span>
<span class="line-number">15</span>
<span class="line-number">16</span>
<span class="line-number">17</span>
<span class="line-number">18</span>
<span class="line-number">19</span>
<span class="line-number">20</span>
<span class="line-number">21</span>
<span class="line-number">22</span>
</pre></td><td class="code"><pre><code class="bash"><span class="line">ruby -e <span class="s2">&quot;1.upto(100){|n|puts&#39;FizzBuzz &#39;[o=n**4%-15,o+13]||n}&quot;</span>
</span><span class="line">1
</span><span class="line">2
</span><span class="line">Fizz
</span><span class="line">4
</span><span class="line">Buzz
</span><span class="line">Fizz
</span><span class="line">7
</span><span class="line">8
</span><span class="line">Fizz
</span><span class="line">Buzz
</span><span class="line">11
</span><span class="line">.
</span><span class="line">.
</span><span class="line">.
</span><span class="line">94
</span><span class="line">Buzz
</span><span class="line">Fizz
</span><span class="line">97
</span><span class="line">98
</span><span class="line">Fizz
</span><span class="line">Buzz
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>Pour celles et ceux qui ne pigent pas cette ligne de code Ruby, on va la
déconstruire petit à petit.</p>

<!-- more -->

<p>Nous avons affaire à une boucle (j’ai remplacé les <code>{}</code> par <code>do end</code>):</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
</pre></td><td class="code"><pre><code class="ruby"><span class="line"><span class="mi">1</span><span class="o">.</span><span class="n">upto</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span> <span class="k">do</span> <span class="o">|</span><span class="n">n</span><span class="o">|</span>
</span><span class="line">  <span class="nb">puts</span><span class="s1">&#39;FizzBuzz &#39;</span><span class="o">[</span><span class="n">o</span><span class="o">=</span><span class="n">n</span><span class="o">**</span><span class="mi">4</span><span class="o">%-</span><span class="mi">15</span><span class="p">,</span><span class="n">o</span><span class="o">+</span><span class="mi">13</span><span class="o">]||</span><span class="n">n</span>
</span><span class="line"><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p><code>a.upto(b)</code> itère de <code>a</code> jusqu’à <code>b</code>:</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
</pre></td><td class="code"><pre><code class="irb"><span class="line"><span class="go">$ irb</span>
</span><span class="line"><span class="gp">&gt;&gt; </span><span class="mi">10</span><span class="o">.</span><span class="n">upto</span><span class="p">(</span><span class="mi">12</span><span class="p">)</span> <span class="k">do</span> <span class="o">|</span><span class="n">iteration</span><span class="o">|</span>
</span><span class="line"><span class="gp">?&gt; </span>  <span class="nb">puts</span> <span class="n">iteration</span>
</span><span class="line"><span class="gp">&gt;&gt; </span><span class="k">end</span>
</span><span class="line"><span class="go">10</span>
</span><span class="line"><span class="go">11</span>
</span><span class="line"><span class="go">12</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>Regardons de plus près l’intérieur de la boucle, là où c’est intéressant.
Ruby permet d’appeler les
méthodes sans utiliser de parenthèses. Ici je les ai simplement rajouter pour
tenter de clarifier le code:</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
</pre></td><td class="code"><pre><code class="ruby"><span class="line"><span class="mi">1</span><span class="o">.</span><span class="n">upto</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span> <span class="k">do</span> <span class="o">|</span><span class="n">n</span><span class="o">|</span>
</span><span class="line">  <span class="nb">puts</span><span class="p">(</span> <span class="s1">&#39;FizzBuzz &#39;</span><span class="o">[</span><span class="n">o</span><span class="o">=</span><span class="n">n</span><span class="o">**</span><span class="mi">4</span><span class="o">%-</span><span class="mi">15</span><span class="p">,</span><span class="n">o</span><span class="o">+</span><span class="mi">13</span><span class="o">]||</span><span class="n">n</span> <span class="p">)</span>
</span><span class="line"><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>Maintenant qu’on est bien sûr qu’il s’agit de la méthode <code>puts</code> avec un
argument bizarre dedans, je sépare les différents éléments de la <em>grammaire de
Ruby</em> par des espaces. Toujours pour essayer d’y voir plus clair:</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
</pre></td><td class="code"><pre><code class="ruby"><span class="line"><span class="mi">1</span><span class="o">.</span><span class="n">upto</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span> <span class="k">do</span> <span class="o">|</span><span class="n">n</span><span class="o">|</span>
</span><span class="line">  <span class="nb">puts</span><span class="p">(</span> <span class="s1">&#39;FizzBuzz &#39;</span><span class="o">[</span><span class="n">o</span> <span class="o">=</span> <span class="n">n</span> <span class="o">**</span> <span class="mi">4</span> <span class="o">%</span> <span class="o">-</span><span class="mi">15</span><span class="p">,</span> <span class="n">o</span> <span class="o">+</span> <span class="mi">13</span><span class="o">]</span> <span class="o">||</span> <span class="n">n</span> <span class="p">)</span>
</span><span class="line"><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>Arrêtons nous un peu sur les sous-ensembles de chaîne <code>[a, b]</code>.
Le premier chiffre est la position de départ, le second est le nombre de
caractères:</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
</pre></td><td class="code"><pre><code class="irb"><span class="line"><span class="go">$ irb</span>
</span><span class="line"><span class="gp">&gt;&gt; </span><span class="s2">&quot;abcdef&quot;</span><span class="o">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="o">]</span>
</span><span class="line"><span class="go">&quot;ab&quot;</span>
</span><span class="line"><span class="gp">&gt;&gt; </span><span class="s2">&quot;abcdef&quot;</span><span class="o">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="o">]</span>
</span><span class="line"><span class="go">&quot;de&quot;</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>Ruby permet de donner une position de départ pas rapport à la fin:</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
</pre></td><td class="code"><pre><code class="irb"><span class="line"><span class="gp">&gt;&gt; </span><span class="s2">&quot;abcdef&quot;</span><span class="o">[-</span><span class="mi">4</span><span class="p">,</span> <span class="mi">2</span><span class="o">]</span>
</span><span class="line"><span class="go">&quot;cd&quot;</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>Pour la suite, notez bien que si on va chercher des caractères <strong>avant</strong> le début ou <strong>après</strong> la fin de la chaîne, on se retrouve avec <code>nil</code>. Ça n’est pas une erreur, c’est le comportement attendu:</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
</pre></td><td class="code"><pre><code class="irb"><span class="line"><span class="gp">&gt;&gt; </span><span class="s2">&quot;abcdef&quot;</span><span class="o">[-</span><span class="mi">123</span><span class="p">,</span> <span class="mi">2</span><span class="o">]</span>
</span><span class="line"><span class="go">nil</span>
</span><span class="line"><span class="gp">&gt;&gt; </span><span class="s2">&quot;abcdef&quot;</span><span class="o">[</span><span class="mi">999</span><span class="p">,</span> <span class="mi">2</span><span class="o">]</span>
</span><span class="line"><span class="go">nil</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>Maintenant essayons de décrypter la formule mathématique.
Utilisons une variable temporaire pour l’isoler:</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
</pre></td><td class="code"><pre><code class="ruby"><span class="line"><span class="mi">1</span><span class="o">.</span><span class="n">upto</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span> <span class="k">do</span> <span class="o">|</span><span class="n">n</span><span class="o">|</span>
</span><span class="line">  <span class="n">o</span> <span class="o">=</span> <span class="n">n</span> <span class="o">**</span> <span class="mi">4</span> <span class="o">%</span> <span class="o">-</span><span class="mi">15</span>
</span><span class="line">  <span class="nb">puts</span><span class="p">(</span> <span class="s1">&#39;FizzBuzz &#39;</span><span class="o">[</span><span class="n">o</span><span class="p">,</span> <span class="n">o</span> <span class="o">+</span> <span class="mi">13</span><span class="o">]</span> <span class="o">||</span> <span class="n">n</span> <span class="p">)</span>
</span><span class="line"><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>En Ruby, <code>**</code> est l’opérateur de puissance:</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
</pre></td><td class="code"><pre><code class="irb"><span class="line"><span class="go">$ irb</span>
</span><span class="line"><span class="gp">&gt;&gt; </span><span class="mi">10</span> <span class="o">**</span> <span class="mi">2</span>
</span><span class="line"><span class="go">100</span>
</span><span class="line"><span class="gp">&gt;&gt; </span><span class="mi">10</span> <span class="o">**</span> <span class="mi">3</span>
</span><span class="line"><span class="go">1000</span>
</span><span class="line"><span class="gp">&gt;&gt; </span><span class="mi">10</span> <span class="o">**</span> <span class="mi">4</span>
</span><span class="line"><span class="go">10000</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>Quant à <code>%</code>, c’est l’opérateur de la division modulaire, souvent appelé
<em>modulo</em>. Si vous avez plein de temps devant vous il y a la page wikipédia sur
<a href="http://fr.wikipedia.org/wiki/Arithm%C3%A9tique_modulaire">l’arithmétique modulaire</a>.
Sinon voici une explication rapide du modulo: <strong>c’est le reste de la division
entière</strong>. Donc <code>9 % 4 == 1</code>.</p>

<p>Sauf qu’ici on utilise le modulo avec un nombre négatif. Et là les maths se
compliquent un peu, et surtout différents langages de programmation auront différents
comportements.</p>

<p>Essayons plutôt de <em>sentir</em> la formule en l’appliquant aux nombres de 1 à 16:</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
<span class="line-number">13</span>
<span class="line-number">14</span>
<span class="line-number">15</span>
<span class="line-number">16</span>
<span class="line-number">17</span>
<span class="line-number">18</span>
<span class="line-number">19</span>
<span class="line-number">20</span>
<span class="line-number">21</span>
</pre></td><td class="code"><pre><code class="irb"><span class="line"><span class="go">$ irb</span>
</span><span class="line"><span class="gp">&gt;&gt; </span><span class="p">(</span><span class="mi">1</span><span class="o">.</span><span class="n">.</span><span class="mi">16</span><span class="p">)</span><span class="o">.</span><span class="n">each</span> <span class="k">do</span> <span class="o">|</span><span class="n">n</span><span class="o">|</span>
</span><span class="line"><span class="gp">?&gt; </span>  <span class="n">o</span> <span class="o">=</span> <span class="n">n</span> <span class="o">**</span> <span class="mi">4</span> <span class="o">%</span> <span class="o">-</span><span class="mi">15</span>
</span><span class="line"><span class="gp">&gt;&gt; </span>  <span class="nb">puts</span> <span class="s2">&quot;</span><span class="si">#{</span><span class="n">n</span><span class="si">}</span><span class="s2"> =&gt; </span><span class="si">#{</span><span class="n">o</span><span class="si">}</span><span class="s2">&quot;</span>
</span><span class="line"><span class="gp">&gt;&gt; </span><span class="k">end</span>
</span><span class="line"><span class="go">1 =&gt; -14</span>
</span><span class="line"><span class="go">2 =&gt; -14</span>
</span><span class="line"><span class="go">3 =&gt; -9</span>
</span><span class="line"><span class="go">4 =&gt; -14</span>
</span><span class="line"><span class="go">5 =&gt; -5</span>
</span><span class="line"><span class="go">6 =&gt; -9</span>
</span><span class="line"><span class="go">7 =&gt; -14</span>
</span><span class="line"><span class="go">8 =&gt; -14</span>
</span><span class="line"><span class="go">9 =&gt; -9</span>
</span><span class="line"><span class="go">10 =&gt; -5</span>
</span><span class="line"><span class="go">11 =&gt; -14</span>
</span><span class="line"><span class="go">12 =&gt; -9</span>
</span><span class="line"><span class="go">13 =&gt; -14</span>
</span><span class="line"><span class="go">14 =&gt; -14</span>
</span><span class="line"><span class="go">15 =&gt; 0</span>
</span><span class="line"><span class="go">16 =&gt; -14</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>J’imagine qu’à ce moment précis, vous êtes plusieurs à crier <strong>«Ha ha !»</strong>.</p>

<p>Cette formule, en Ruby, a donc 4 solutions possibles:</p>

<ul>
  <li>Quand <em>n</em> est un multiple de 3, la solution est <strong>-9</strong>.</li>
  <li>Quand <em>n</em> est un multiple de 5, la solution est <strong>-5</strong>.</li>
  <li>Quand <em>n</em> est un multiple de 15 (c’est à dire à la fois multiple de 3 et de
9), la solution est <strong>0</strong>.</li>
  <li>Dans les autres cas, la solution est <strong>-14</strong>.</li>
</ul>

<p>Voyons ce qu’il se passe avec <code>'FizzBuzz '</code> quand <code>o</code> vaut respectivement -9, -5, 0 puis -14:</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
</pre></td><td class="code"><pre><code class="irb"><span class="line"><span class="go">$ irb</span>
</span><span class="line"><span class="gp">&gt;&gt; </span><span class="s1">&#39;FizzBuzz &#39;</span><span class="o">[-</span><span class="mi">9</span><span class="p">,</span> <span class="o">-</span><span class="mi">9</span> <span class="o">+</span> <span class="mi">13</span><span class="o">]</span>
</span><span class="line"><span class="go">&quot;Fizz&quot;</span>
</span><span class="line"><span class="gp">&gt;&gt; </span><span class="s1">&#39;FizzBuzz &#39;</span><span class="o">[-</span><span class="mi">5</span><span class="p">,</span> <span class="o">-</span><span class="mi">5</span> <span class="o">+</span> <span class="mi">13</span><span class="o">]</span>
</span><span class="line"><span class="go">&quot;Buzz &quot;</span>
</span><span class="line"><span class="gp">&gt;&gt; </span><span class="s1">&#39;FizzBuzz &#39;</span><span class="o">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">13</span><span class="o">]</span>
</span><span class="line"><span class="go">&quot;FizzBuzz &quot;</span>
</span><span class="line"><span class="gp">&gt;&gt; </span><span class="s1">&#39;FizzBuzz &#39;</span><span class="o">[-</span><span class="mi">14</span><span class="p">,</span> <span class="o">-</span><span class="mi">14</span> <span class="o">+</span> <span class="mi">13</span><span class="o">]</span>
</span><span class="line"><span class="go">nil</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>Peut-être vous demandez vous pourquoi il y a un espace après FizzBuzz ?
En pratique, voici la raison:</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
</pre></td><td class="code"><pre><code class="irb"><span class="line"><span class="gp">&gt;&gt; </span><span class="s1">&#39;FizzBuzz&#39;</span><span class="o">[-</span><span class="mi">9</span><span class="p">,</span> <span class="o">-</span><span class="mi">9</span> <span class="o">+</span> <span class="mi">13</span><span class="o">]</span>
</span><span class="line"><span class="go">nil</span>
</span><span class="line"><span class="gp">&gt;&gt; </span><span class="s1">&#39;FizzBuzz&#39;</span><span class="o">[-</span><span class="mi">5</span><span class="p">,</span> <span class="o">-</span><span class="mi">5</span> <span class="o">+</span> <span class="mi">13</span><span class="o">]</span>
</span><span class="line"><span class="go">&quot;zBuzz&quot;</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>En théorie, je vous laisse faire les calculs ;)</p>

<p>Pour finir, il reste à expliquer le <code>||</code>, un exemple vaut mieux qu’un long
discours:</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
</pre></td><td class="code"><pre><code class="irb"><span class="line"><span class="gp">&gt;&gt; </span><span class="s2">&quot;foo&quot;</span> <span class="o">||</span> <span class="mi">13</span>
</span><span class="line"><span class="go">&quot;foo&quot;</span>
</span><span class="line"><span class="gp">&gt;&gt; </span><span class="kp">nil</span> <span class="o">||</span> <span class="mi">13</span>
</span><span class="line"><span class="go">13</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>Voilà, si vous voulez ajouter d’autres explications, les commentaires sont fait
pour ça ;)</p>

<section><h1>Articles connexes</h1><ul><li><a href="/blog/2015/07/02/ruby-est-un-peu-paresseux/">Ruby est un peu paresseux</a></li><li><a href="/blog/2015/06/30/comportement-inattendu-de-rspec/">Comportement inattendu de Rspec</a></li><li><a href="/blog/2015/05/02/comment-convertir-un-nombre-decimal-en-binaire-en-bash/">Comment convertir un nombre décimal en binaire en Bash ?</a></li></ul></section>
</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posté par <span class="fn">Xavier Nayrac</span></span>

      








  


<time datetime="2015-04-30T17:07:00+02:00" pubdate data-updated="true">30 avril 2015</time>
      

<span class="categories">
  
    <a class='category' href='/blog/categories/intermediaire/'>intermédiaire</a>, <a class='category' href='/blog/categories/one-liner/'>one liner</a>, <a class='category' href='/blog/categories/ruby/'>ruby</a>
  
</span>


    </p>
    
      <div class="sharing">
  
  <a href="//twitter.com/share" class="twitter-share-button" data-url="http://lkdjiin.github.io/blog/2015/04/30/le-hack-fizzbuzz-en-ruby/" data-via="lkdjiin" data-counturl="http://lkdjiin.github.io/blog/2015/04/30/le-hack-fizzbuzz-en-ruby/" >Tweet</a>
  
  
  <div class="g-plusone" data-size="medium"></div>
  
  
    <div class="fb-like" data-send="true" data-width="450" data-show-faces="false"></div>
  
</div>

    
    <p class="meta">
      
        <a class="basic-alignment left" href="/blog/2015/04/23/3-reglages-pour-le-langage-r/" title="Previous Post: 3 réglages pour le langage R">&laquo; 3 réglages pour le langage R</a>
      
      
        <a class="basic-alignment right" href="/blog/2015/05/02/comment-convertir-un-nombre-decimal-en-binaire-en-bash/" title="Next Post: Comment convertir un nombre décimal en binaire en Bash ?">Comment convertir un nombre décimal en binaire en Bash ? &raquo;</a>
      
    </p>
  </footer>
</article>

  <section>
    <h1>Commentaires</h1>
    <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
  </section>

</div>

<aside class="sidebar">
  
    <section>
  <h1>Articles récents</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2016/02/13/ecrire-un-jeu-en-2d-avec-ruby-et-gosu-partie-4/">Écrire un jeu en 2d avec Ruby et Gosu - partie 4</a>
      </li>
    
      <li class="post">
        <a href="/blog/2016/02/12/ecrire-un-jeu-en-2d-avec-ruby-et-gosu-partie-3/">Écrire un jeu en 2d avec Ruby et Gosu - partie 3</a>
      </li>
    
      <li class="post">
        <a href="/blog/2016/02/11/ecrire-un-jeu-en-2d-avec-ruby-et-gosu-partie-2/">Écrire un jeu en 2d avec Ruby et Gosu - partie 2</a>
      </li>
    
      <li class="post">
        <a href="/blog/2016/02/10/ecrire-un-jeu-en-2d-avec-ruby-et-gosu-partie-1/">Écrire un jeu en 2d avec Ruby et Gosu - partie 1</a>
      </li>
    
      <li class="post">
        <a href="/blog/2016/02/05/livres-de-non-fiction-lus-en-2015/">Livres de non-fiction lus en 2015</a>
      </li>
    
  </ul>
</section>
<section>
  <h1>Sur Twitter</h1>
  <a class="twitter-timeline"  href="https://twitter.com/lkdjiin" data-widget-id="554992534532136960">Tweets de @lkdjiin</a>
  <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+"://platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
          
</section>

  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2016 - Xavier Nayrac -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'confessionsdeveloppeur';
      
        
        // var disqus_developer = 1;
        var disqus_identifier = 'http://lkdjiin.github.io/blog/2015/04/30/le-hack-fizzbuzz-en-ruby/';
        var disqus_url = 'http://lkdjiin.github.io/blog/2015/04/30/le-hack-fizzbuzz-en-ruby/';
        var disqus_script = 'embed.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>



<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) {return;}
  js = d.createElement(s); js.id = id; js.async = true;
  js.src = "//connect.facebook.net/en_US/all.js#appId=212934732101925&xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>



  <script type="text/javascript">
    (function() {
      var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;
      script.src = 'https://apis.google.com/js/plusone.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(script, s);
    })();
  </script>



  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>


<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  tex2jax: {inlineMath: [['\\(','\\)']]}
});
</script>
<script src='https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>


</body>
</html>
