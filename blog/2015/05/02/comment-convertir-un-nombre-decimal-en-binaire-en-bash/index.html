<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.7.1 -->
<title>Comment convertir un nombre décimal en binaire en Bash ? | Xavier Nayrac</title>
<meta name="generator" content="Jekyll v4.2.0" />
<meta property="og:title" content="Comment convertir un nombre décimal en binaire en Bash ?" />
<meta name="author" content="Xavier Nayrac" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Pour convertir un nombre décimal en binaire, en Bash, suivez ce tweet : https://twitter.com/climagic/status/593842202314420224." />
<meta property="og:description" content="Pour convertir un nombre décimal en binaire, en Bash, suivez ce tweet : https://twitter.com/climagic/status/593842202314420224." />
<link rel="canonical" href="http://lkdjiin.github.io/blog/2015/05/02/comment-convertir-un-nombre-decimal-en-binaire-en-bash/" />
<meta property="og:url" content="http://lkdjiin.github.io/blog/2015/05/02/comment-convertir-un-nombre-decimal-en-binaire-en-bash/" />
<meta property="og:site_name" content="Xavier Nayrac" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2015-05-02T12:20:00+02:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Comment convertir un nombre décimal en binaire en Bash ?" />
<script type="application/ld+json">
{"@type":"BlogPosting","url":"http://lkdjiin.github.io/blog/2015/05/02/comment-convertir-un-nombre-decimal-en-binaire-en-bash/","headline":"Comment convertir un nombre décimal en binaire en Bash ?","dateModified":"2015-05-02T12:20:00+02:00","datePublished":"2015-05-02T12:20:00+02:00","author":{"@type":"Person","name":"Xavier Nayrac"},"mainEntityOfPage":{"@type":"WebPage","@id":"http://lkdjiin.github.io/blog/2015/05/02/comment-convertir-un-nombre-decimal-en-binaire-en-bash/"},"description":"Pour convertir un nombre décimal en binaire, en Bash, suivez ce tweet : https://twitter.com/climagic/status/593842202314420224.","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/assets/main.css"><link type="application/atom+xml" rel="alternate" href="http://lkdjiin.github.io/atom.xml" title="Xavier Nayrac" /></head>
<body><header class="site-header" role="banner">

  <div class="wrapper"><a class="site-title" rel="author" href="/">Xavier Nayrac</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"><a class="page-link" href="/about/">À propos</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">Comment convertir un nombre décimal en binaire en Bash ?</h1>
    <p class="post-meta">
      <time class="dt-published" datetime="2015-05-02T12:20:00+02:00" itemprop="datePublished">May 2, 2015
      </time></p>
  </header>

  <div class="post-content e-content" itemprop="articleBody">
    <p>Pour convertir un nombre décimal en binaire, en Bash, suivez ce tweet :
<a href="https://twitter.com/climagic/status/593842202314420224">https://twitter.com/climagic/status/593842202314420224</a>.</p>

<p>Et voici la conversion du décimal 27 en son équivalent binaire :</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ Dec2Bin</span><span class="o">=({</span>0..1<span class="o">}{</span>0..1<span class="o">}{</span>0..1<span class="o">}{</span>0..1<span class="o">}{</span>0..1<span class="o">}{</span>0..1<span class="o">}{</span>0..1<span class="o">}{</span>0..1<span class="o">})</span><span class="p">;</span><span class="nb">echo</span> <span class="k">${</span><span class="nv">Dec2Bin</span><span class="p">[27]</span><span class="k">}</span> 
00011011</code></pre></figure>

<p>Alors, comment ça marche ?</p>

<p><img class="center" src="/images/binary.jpg" /></p>

<!-- more -->

<p>Pour commencer, voici comment faire un tableau en bash, qui va contenir les 3
chaînes <code class="language-plaintext highlighter-rouge">foo</code>, <code class="language-plaintext highlighter-rouge">bar</code>, et <code class="language-plaintext highlighter-rouge">baz</code>. Ne soyez pas surpris par le manque de guillemets
autour des chaînes, Bash est fait pour traiter du texte.</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ myarray</span><span class="o">=(</span>foo bar baz<span class="o">)</span></code></pre></figure>

<p>Et voici comment afficher le contenu de ce tableau.</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span><span class="nb">echo</span> <span class="k">${</span><span class="nv">myarray</span><span class="p">[@]</span><span class="k">}</span>
foo bar baz</code></pre></figure>

<p>On peut bien sûr accéder aux éléments du tableau séparément :</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span><span class="nb">echo</span> <span class="k">${</span><span class="nv">myarray</span><span class="p">[0]</span><span class="k">}</span>
foo
<span class="nv">$ </span><span class="nb">echo</span> <span class="k">${</span><span class="nv">myarray</span><span class="p">[1]</span><span class="k">}</span>
bar
<span class="nv">$ </span><span class="nb">echo</span> <span class="k">${</span><span class="nv">myarray</span><span class="p">[2]</span><span class="k">}</span>
baz</code></pre></figure>

<p>Pour connaître la taille d’un tableau, voici la syntaxe :</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span><span class="nb">echo</span> <span class="k">${#</span><span class="nv">myarray</span><span class="p">[@]</span><span class="k">}</span>
3</code></pre></figure>

<p>Appliquons ce nouveau savoir au tableau <code class="language-plaintext highlighter-rouge">Dec2Bin</code>, qui contient…</p>

<p>…</p>

<p>…des trucs :</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ Dec2Bin</span><span class="o">=({</span>0..1<span class="o">}{</span>0..1<span class="o">}{</span>0..1<span class="o">}{</span>0..1<span class="o">}{</span>0..1<span class="o">}{</span>0..1<span class="o">}{</span>0..1<span class="o">}{</span>0..1<span class="o">})</span></code></pre></figure>

<p>Combien a-t-il d’éléments ?</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span><span class="nb">echo</span> <span class="k">${#</span><span class="nv">Dec2Bin</span><span class="p">[@]</span><span class="k">}</span>
256</code></pre></figure>

<p>256 ? Et ça ressemble à quoi ?</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span><span class="nb">echo</span> <span class="k">${</span><span class="nv">Dec2Bin</span><span class="p">[@]</span><span class="k">}</span>
00000000 00000001 00000010 00000011 00000100 00000101 00000110 00000111 00001000 
00001001 00001010 00001011 00001100 00001101 00001110 00001111 00010000 00010001
...
11101010 11101011 11101100 11101101 11101110 11101111 11110000 11110001 11110010 
11110011 11110100 11110101 11110110 11110111 11111000 11111001 11111010 11111011 
11111100 11111101 11111110 11111111</code></pre></figure>

<p>Tranquille, <code class="language-plaintext highlighter-rouge">Dec2Bin</code> est un tableau qui contient 256 chaînes représentant les
nombres binaires de 0 à 255.</p>

<p>Les crochets <code class="language-plaintext highlighter-rouge">{}</code> créent un <em>range</em> :</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span><span class="nb">echo</span> <span class="o">{</span>0..1<span class="o">}</span>
0 1
<span class="nv">$ </span><span class="nb">echo</span> <span class="o">{</span>a..f<span class="o">}</span>
a b c d e f</code></pre></figure>

<p>Plusieurs crochets <code class="language-plaintext highlighter-rouge">{}</code> les uns à la suite des autres produisent toutes les
permutations possibles :</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span><span class="nb">echo</span> <span class="o">{</span>0..1<span class="o">}{</span>0..1<span class="o">}</span>
00 01 10 11</code></pre></figure>

<p>Et on peut mettre tout ça dans un tableau :</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ a</span><span class="o">=({</span>0..1<span class="o">})</span>
<span class="nv">$ </span><span class="nb">echo</span> <span class="k">${</span><span class="nv">a</span><span class="p">[@]</span><span class="k">}</span>
0 1
<span class="nv">$ a</span><span class="o">=({</span>0..1<span class="o">}{</span>0..1<span class="o">})</span>
<span class="nv">$ </span><span class="nb">echo</span> <span class="k">${</span><span class="nv">a</span><span class="p">[@]</span><span class="k">}</span>
00 01 10 11
<span class="nv">$ a</span><span class="o">=({</span>0..1<span class="o">}{</span>0..1<span class="o">}{</span>0..1<span class="o">})</span>
<span class="nv">$ </span><span class="nb">echo</span> <span class="k">${</span><span class="nv">a</span><span class="p">[@]</span><span class="k">}</span>
000 001 010 011 100 101 110 111</code></pre></figure>

<p>Et voilà, il faut encore savoir qu’ici, le point-virgule sert à joindre 2 lignes de
code en une seule :</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ Dec2Bin</span><span class="o">=({</span>0..1<span class="o">}{</span>0..1<span class="o">}{</span>0..1<span class="o">}{</span>0..1<span class="o">}{</span>0..1<span class="o">}{</span>0..1<span class="o">}{</span>0..1<span class="o">}{</span>0..1<span class="o">})</span>
<span class="nv">$ </span><span class="nb">echo</span> <span class="k">${</span><span class="nv">Dec2Bin</span><span class="p">[27]</span><span class="k">}</span>
00011011</code></pre></figure>

<h2 id="bonus-1---le-même-en-hexadécimal">Bonus 1 - Le même en hexadécimal</h2>

<p>Et si on voulait convertir un nombre décimal en hexadécimal plutôt qu’en
binaire ? Il faudrait générer toutes les permutations entre deux suites
<code class="language-plaintext highlighter-rouge">0 1 2 3 4 5 6 7 8 9 A B C D E F</code> :</p>

<p>{% highlight bash %}
$ echo {{0..9},{A..F}}{{0..9},{A..F}}
00 01 02 03 04 05 06 07 08 09 0A 0B 0C 0D 0E 0F 10 11 12 13 14 15 16 17 18 19 1A 
1B 1C 1D 1E 1F 20 21 22 23 24 25 26 27 28 29 2A 2B 2C 2D 2E 2F 30 31 32 33 34 35 
36 37 38 39 3A 3B 3C 3D 3E 3F 40 41 42 43 44 45 46 47 48 49 4A 4B 4C 4D 4E 4F 50 
51 52 53 54 55 56 57 58 59 5A 5B 5C 5D 5E 5F 60 61 62 63 64 65 66 67 68 69 6A 6B 
6C 6D 6E 6F 70 71 72 73 74 75 76 77 78 79 7A 7B 7C 7D 7E 7F 80 81 82 83 84 85 86 
87 88 89 8A 8B 8C 8D 8E 8F 90 91 92 93 94 95 96 97 98 99 9A 9B 9C 9D 9E 9F A0 A1 
A2 A3 A4 A5 A6 A7 A8 A9 AA AB AC AD AE AF B0 B1 B2 B3 B4 B5 B6 B7 B8 B9 BA BB BC 
BD BE BF C0 C1 C2 C3 C4 C5 C6 C7 C8 C9 CA CB CC CD CE CF D0 D1 D2 D3 D4 D5 D6 D7 
D8 D9 DA DB DC DD DE DF E0 E1 E2 E3 E4 E5 E6 E7 E8 E9 EA EB EC ED EE EF F0 F1 F2 
F3 F4 F5 F6 F7 F8 F9 FA FB FC FD FE FF
{% endhighlight %}</p>

<p>{% highlight bash %}
$ Dec2Hex=({{0..9},{A..F}}{{0..9},{A..F}});echo ${Dec2Hex[27]}
1B
{% endhighlight %}</p>

<h2 id="bonus-2---le-même-en-ruby">Bonus 2 - Le même en Ruby</h2>

<p>On peut faire la même chose en Ruby en utilisant <code class="language-plaintext highlighter-rouge">repeated_permutation</code> :</p>

<figure class="highlight"><pre><code class="language-irb" data-lang="irb"><span class="go">&gt;&gt; [0,1].repeated_permutation(8).to_a.each{|e| puts e.join}
00000000
00000001
00000010
00000011
00000100
00000101
</span><span class="c">...
</span><span class="go">11111010
11111011
11111100
11111101
11111110
11111111</span></code></pre></figure>

<p>Il peut-être intéressant de comparer les deux versions :</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span>ruby <span class="nt">-e</span> <span class="s2">"puts [0,1].repeated_permutation(8).to_a[27].join"</span>
00011011</code></pre></figure>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ Dec2Bin</span><span class="o">=({</span>0..1<span class="o">}{</span>0..1<span class="o">}{</span>0..1<span class="o">}{</span>0..1<span class="o">}{</span>0..1<span class="o">}{</span>0..1<span class="o">}{</span>0..1<span class="o">}{</span>0..1<span class="o">})</span><span class="p">;</span><span class="nb">echo</span> <span class="k">${</span><span class="nv">Dec2Bin</span><span class="p">[27]</span><span class="k">}</span> 
00011011</code></pre></figure>

<h2 id="bonus-3---encore-plus-court">Bonus 3 - Encore plus court</h2>

<p>Pour finir, on peut faire plus court avec Bash en utilisant <code class="language-plaintext highlighter-rouge">{0,1}</code> au lieu de
<code class="language-plaintext highlighter-rouge">{0..1}</code> puisqu’il y a seulement deux éléments :</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ Dec2Bin</span><span class="o">=({</span>0,1<span class="o">}{</span>0,1<span class="o">}{</span>0,1<span class="o">}{</span>0,1<span class="o">}{</span>0,1<span class="o">}{</span>0,1<span class="o">}{</span>0,1<span class="o">}{</span>0,1<span class="o">})</span><span class="p">;</span><span class="nb">echo</span> <span class="k">${</span><span class="nv">Dec2Bin</span><span class="p">[27]</span><span class="k">}</span> 
00011011</code></pre></figure>


  </div>

  <br/>
  <br/>
  <div style="text-align: center">/ / / / / / / / / /</div>
  <br/>
  <br/>

  <div style="text-align: center">
    
      <a href="/blog/2015/04/30/le-hack-fizzbuzz-en-ruby/" title="Article précédent: Le hack FizzBuzz en Ruby">&laquo; Le hack FizzBuzz en Ruby</a> ---//---
    
    
      <a href="/blog/2015/05/14/un-exemple-de-polymorphisme-en-situation-reelle/" title="Article suivant: Un exemple de polymorphisme en situation réelle">Un exemple de polymorphisme en situation réelle &raquo;</a>
    
  </div><div id="disqus_thread"></div>
  <script>
    var disqus_config = function () {
      this.page.url = 'http://lkdjiin.github.io/blog/2015/05/02/comment-convertir-un-nombre-decimal-en-binaire-en-bash/';
      this.page.identifier = 'http://lkdjiin.github.io/blog/2015/05/02/comment-convertir-un-nombre-decimal-en-binaire-en-bash/';
    };

    (function() {
      var d = document, s = d.createElement('script');

      s.src = 'https://confessionsdeveloppeur.disqus.com/embed.js';

      s.setAttribute('data-timestamp', +new Date());
      (d.head || d.body).appendChild(s);
    })();
  </script>
  <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript><a class="u-url" href="/blog/2015/05/02/comment-convertir-un-nombre-decimal-en-binaire-en-bash/" hidden></a>
</article>

      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/"></data>

  <div class="wrapper">

    <div>
    <p class="rss-subscribe">s'abonner <a href="/atom.xml">via RSS</a></p>
    </div>

    <h2 class="footer-heading">Xavier Nayrac</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">Copyright 2013 - 2021</li><li><a class="u-email" href="mailto:"></a></li></ul>
      </div>

      <div class="footer-col footer-col-2"><ul class="social-media-list"><li><a href="https://github.com/lkdjiin"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#github"></use></svg> <span class="username">lkdjiin</span></a></li><li><a href="https://www.twitter.com/lkdjiin"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#twitter"></use></svg> <span class="username">lkdjiin</span></a></li></ul>
</div>

      <div class="footer-col footer-col-3">
        <p>Dev accro au TDD, Rubyiste mais pas que, musicien, maker, créateur d&#39;effets pour guitare, heureux utilisateur de Vim.</p>
      </div>
    </div>

  </div>

</footer>
</body>

</html>
