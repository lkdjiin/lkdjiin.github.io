
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Je veux mon blog Octopress en français - lkdjiin's blog</title>
  <meta name="author" content="Xavier Nayrac">

  
  <meta name="description" content="Niveau : facile Octopress n&#8217;est pas prévu pour être internationnalisé et localisé. C&#8217;est
comme ça. Je ne pense pas que ça change avant un &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://lkdjiin.github.io/blog/2013/07/13/je-veux-mon-blog-octopress-en-francais">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="lkdjiin's blog" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/lib/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">


  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-39286891-4']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <header role="banner"><img src="http://www.gravatar.com/avatar/f6d0dff2dbb2fdc08fb1318116ea572c"/>
<hgroup>
  <h1><a href="/">lkdjiin's blog</a></h1>
  
    <h2>Confessions d'un développeur.</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:lkdjiin.github.io" />
    <input class="search" type="text" name="q" results="0" placeholder="Chercher"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      <h1 class="entry-title">Je veux mon blog Octopress en français</h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-07-13T07:19:00+02:00" pubdate data-updated="true">13 juillet 2013</time>
        
         | <a href="#disqus_thread">Comments</a>
        
      </p>
    
  </header>


<div class="entry-content"><div class='level-tag level-tag-1'>Niveau : <span>facile</span></div>


<p>Octopress n&#8217;est pas prévu pour être internationnalisé et localisé. C&#8217;est
comme ça. Je ne pense pas que ça change avant un moment, si jamais ça
change. Suite à une
<a href="https://twitter.com/lkdjiin/status/355699071895343105">conversation sur twitter</a>
avec @octopress, on m&#8217;a
conseillé de regarder du coté de Jekyll. Je le ferais surement, mais plus
tard. Je ne connais pas du tout Jekyll et je veux mon blog Octopress en
français maintenant. (Ok, je fais un caprice)</p>

<!-- more -->


<p>Je vais vous montrer comment j&#8217;ai fait pour internationnalisé Octopress.
Si vous en avez envie vous aussi, vous pourrez suivre cette procédure
pour ne pas vous prendre la tête à chercher vous-même.</p>

<h2>Les titres</h2>

<p>Les titres des articles (aussi dans le volet à droite) sont capitalisés à
l&#8217;extrème. Chaque première lettre d&#8217;un mot est en majuscule.  Alors,
capitaliser chaque mot d&#8217;un titre, ça fait cool en anglais, mais en français
c&#8217;est juste horrible et illisible. Pour arranger ça, on change la méthode
<code>titlecase</code> dans <code>plugins/titlecase.rb</code>.</p>

<figure class='code'><figcaption><span>plugins/titlecase.rb</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="k">def</span> <span class="nf">titlecase</span>
</span><span class='line'>  <span class="n">capitalize</span>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>


<p><strong>Edit 14/07/2013</strong> Pas besoin de faire tout ça en fait. Il suffit de passer
<code>titlecase:</code> à <code>false</code> dans le fichier <code>_config.yml</code>. Merci à Jonathan Georges
pour cette info.</p>

<h2>Les dates</h2>

<p>Je veux les dates en français, bien sûr. Les changements sont à faire
dans <code>plugins/date.rb</code>, et je vais vraiment y aller avec mes gros sabots.
Tout d&#8217;abord il faut modifier la méthode <code>ordinalize</code> ainsi:</p>

<figure class='code'><figcaption><span>méthode ordinalize dans plugins/date.rb</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="c1"># Returns an ordinal date eg 1 juillet 2007 -&gt; 1er juillet 2007</span>
</span><span class='line'><span class="k">def</span> <span class="nf">ordinalize</span><span class="p">(</span><span class="n">date</span><span class="p">)</span>
</span><span class='line'>  <span class="n">date</span> <span class="o">=</span> <span class="n">datetime</span><span class="p">(</span><span class="n">date</span><span class="p">)</span>
</span><span class='line'>  <span class="s2">&quot;</span><span class="si">#{</span><span class="n">ordinal</span><span class="p">(</span><span class="n">date</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s1">&#39;%e&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">to_i</span><span class="p">)</span><span class="si">}</span><span class="s2"> &quot;</span> <span class="o">+</span>
</span><span class='line'>  <span class="s2">&quot;</span><span class="si">#{</span><span class="n">french_month</span><span class="p">(</span><span class="n">date</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s1">&#39;%-m&#39;</span><span class="p">))</span><span class="si">}</span><span class="s2"> &quot;</span> <span class="o">+</span>
</span><span class='line'>  <span class="s2">&quot;</span><span class="si">#{</span><span class="n">date</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s1">&#39;%Y&#39;</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>


<p>Puis on modifie la méthode <code>ordinal</code> de cette façon:</p>

<figure class='code'><figcaption><span>méthode ordinal dans plugins/date.rb</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="c1"># Returns an ordinal number. 1 -&gt; 1er.</span>
</span><span class='line'><span class="k">def</span> <span class="nf">ordinal</span><span class="p">(</span><span class="n">number</span><span class="p">)</span>
</span><span class='line'>  <span class="k">if</span> <span class="n">number</span><span class="o">.</span><span class="n">to_i</span> <span class="o">==</span> <span class="mi">1</span>
</span><span class='line'>    <span class="s2">&quot;</span><span class="si">#{</span><span class="n">number</span><span class="si">}</span><span class="s2">&lt;span&gt;er&lt;/span&gt;&quot;</span>
</span><span class='line'>  <span class="k">else</span>
</span><span class='line'>    <span class="s2">&quot;</span><span class="si">#{</span><span class="n">number</span><span class="si">}</span><span class="s2">&quot;</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>


<p>Et enfin il faut ajouter la méthode <code>french_month</code>. C&#8217;est très basique, mais ça
fonctionne:</p>

<figure class='code'><figcaption><span>méthode french_month dans plugins/date.rb</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="c1"># Returns a string french month. 1 -&gt; janvier, 2 -&gt; février, etc.</span>
</span><span class='line'><span class="k">def</span> <span class="nf">french_month</span><span class="p">(</span><span class="n">number</span><span class="p">)</span>
</span><span class='line'>  <span class="k">case</span> <span class="n">number</span><span class="o">.</span><span class="n">to_i</span>
</span><span class='line'>  <span class="k">when</span> <span class="mi">1</span><span class="p">;</span> <span class="s2">&quot;janvier&quot;</span>
</span><span class='line'>  <span class="k">when</span> <span class="mi">2</span><span class="p">;</span> <span class="s2">&quot;février&quot;</span>
</span><span class='line'>  <span class="k">when</span> <span class="mi">3</span><span class="p">;</span> <span class="s2">&quot;mars&quot;</span>
</span><span class='line'>  <span class="k">when</span> <span class="mi">4</span><span class="p">;</span> <span class="s2">&quot;avril&quot;</span>
</span><span class='line'>  <span class="k">when</span> <span class="mi">5</span><span class="p">;</span> <span class="s2">&quot;mai&quot;</span>
</span><span class='line'>  <span class="k">when</span> <span class="mi">6</span><span class="p">;</span> <span class="s2">&quot;juin&quot;</span>
</span><span class='line'>  <span class="k">when</span> <span class="mi">7</span><span class="p">;</span> <span class="s2">&quot;juillet&quot;</span>
</span><span class='line'>  <span class="k">when</span> <span class="mi">8</span><span class="p">;</span> <span class="s2">&quot;août&quot;</span>
</span><span class='line'>  <span class="k">when</span> <span class="mi">9</span><span class="p">;</span> <span class="s2">&quot;septembre&quot;</span>
</span><span class='line'>  <span class="k">when</span> <span class="mi">10</span><span class="p">;</span> <span class="s2">&quot;octobre&quot;</span>
</span><span class='line'>  <span class="k">when</span> <span class="mi">11</span><span class="p">;</span> <span class="s2">&quot;novembre&quot;</span>
</span><span class='line'>  <span class="k">when</span> <span class="mi">12</span><span class="p">;</span> <span class="s2">&quot;décembre&quot;</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>


<p>Si vous êtes en Ruby 1.9.3, il ne faut pas oublier de mettre un encodage
au début du fichier, à cause des caractères accentués :</p>

<figure class='code'><figcaption><span>1ère ligne de plugins/date.rb</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="c1"># -*- encoding: utf-8 -*-</span>
</span></code></pre></td></tr></table></div></figure>


<h2>Les chaînes de caractères embarquées</h2>

<p>Rien de bien intéressant pour cette partie, il suffit de remplacer une
chaîne par une autre. Je vais donc me contenter de dresser la liste.</p>

<ul>
<li>&ldquo;Read on&rdquo; : <code>_config.yml</code></li>
<li>&ldquo;Recent Posts&rdquo; : <code>source/_includes/aside/recent_posts.html</code></li>
<li>&ldquo;Search&rdquo; : <code>source/_includes/navigation.html</code></li>
<li>&ldquo;Posted by&rdquo; : <code>source/_includes/post/author.html</code></li>
<li>&ldquo;posted in&rdquo; : <code>source/_includes/archive_post.html</code></li>
</ul>


<h3>Category:</h3>

<p>Pour remplacer «Category: » par «Catégorie : », c&#8217;est un peu différent.
Il faut <em>ajouter</em> la ligne suivante dans <code>_config.yml</code>:</p>

<figure class='code'><figcaption><span>1ère ligne de plugins/date.rb</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">category_title_prefix</span><span class="p">:</span> <span class="s2">&quot;Catégorie : &quot;</span>
</span></code></pre></td></tr></table></div></figure>


<h2>Conclusion</h2>

<p>Alors voilà, j&#8217;ai bien conscience que certaines modifications risquent ne plus
fonctionner après une mise à jour d&#8217;Octopress… Mais c&#8217;est tout ce que j&#8217;ai
trouvé pour faire ça dans l&#8217;heure.</p>

<p>À demain.</p>

<p><section><h1>Articles connexes</h1><ul><li><a href='/blog/2013/08/22/un-plugin-octopress-pour-les-articles-connexes/'>Un plugin Octopress pour les articles connexes</a></li><li><a href='/blog/2013/07/30/comment-ecrire-un-plugin-octopress-partie-2/'>Comment écrire un plugin Octopress &ndash; partie 2</a></li><li><a href='/blog/2013/07/27/comment-ecrire-un-plugin-octopress/'>Comment écrire un plugin Octopress</a></li></ul></section></p>
</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posté par <span class="fn">Xavier Nayrac</span></span>

      








  


<time datetime="2013-07-13T07:19:00+02:00" pubdate data-updated="true">13 juillet 2013</time>
      

<span class="categories">
  
    <a class='category' href='/blog/categories/internationalization/'>internationalization</a>, <a class='category' href='/blog/categories/localization/'>localization</a>, <a class='category' href='/blog/categories/octopress/'>octopress</a>, <a class='category' href='/blog/categories/ruby/'>ruby</a>
  
</span>


    </p>
    
      <div class="sharing">
  
  <a href="//twitter.com/share" class="twitter-share-button" data-url="http://lkdjiin.github.io/blog/2013/07/13/je-veux-mon-blog-octopress-en-francais/" data-via="lkdjiin" data-counturl="http://lkdjiin.github.io/blog/2013/07/13/je-veux-mon-blog-octopress-en-francais/" >Tweet</a>
  
  
  <div class="g-plusone" data-size="medium"></div>
  
  
    <div class="fb-like" data-send="true" data-width="450" data-show-faces="false"></div>
  
</div>

    
    <p class="meta">
      
        <a class="basic-alignment left" href="/blog/2013/07/12/bien-debuter-avec-vim-conseil-numero-deux/" title="Previous Post: Bien débuter avec Vim: conseil numéro deux">&laquo; Bien débuter avec Vim: conseil numéro deux</a>
      
      
        <a class="basic-alignment right" href="/blog/2013/07/14/bien-debuter-avec-vim-conseil-numero-trois/" title="Next Post: Bien débuter avec Vim: conseil numéro trois">Bien débuter avec Vim: conseil numéro trois &raquo;</a>
      
    </p>
  </footer>
</article>

  <section>
    <h1>Comments</h1>
    <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
  </section>

</div>

<aside class="sidebar">
  
    <section>
  <h1>À propos</h1>
  <p>Blog ouvert sept jours sur sept, j'écris
  <a href="http://lkdjiin.github.io/blog/2013/07/08/nouveau-defi-un-article-par-jour-pendant-un-an/">un article par jour</a>
  sur divers sujets, notamment Vim, Ruby et les algorithmes génétiques.<br/>
  Si vous vous sentez particulièrement généreux,
  <a href="https://twitter.com/lkdjiin">suivez moi sur Twitter</a>.
  </p>
</section>
<section>
  <h1>Articles récents</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2013/12/17/remplacer-sed-et-awk-par-ruby-12-numero-de-ligne/">Remplacer Sed et Awk par Ruby 12: Numéro de ligne</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/12/16/les-algorithmes-genetiques-demystifies-45-economie-calcul-du-score/">Les algorithmes génétiques démystifiés 45: Économie, calcul du score</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/12/15/les-algorithmes-genetiques-demystifies-44-economie/">Les algorithmes génétiques démystifiés 44: Économie</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/12/14/remplacer-sed-et-awk-par-ruby-11-la-gem-english/">Remplacer Sed et Awk par Ruby 11: La gem English</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/12/13/les-algorithmes-genetiques-demystifies-43-economie-la-population/">Les algorithmes génétiques démystifiés 43: Économie, la population</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/12/12/remplacer-sed-et-awk-par-ruby-10-un-exemple-dutilisation/">Remplacer Sed et Awk par Ruby 10: Un exemple d'utilisation</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/12/11/les-algorithmes-genetiques-demystifies-42-un-probleme-deconomie/">Les algorithmes génétiques démystifiés 42: Un problème d'économie</a>
      </li>
    
  </ul>
</section>


  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2013 - Xavier Nayrac -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'confessionsdeveloppeur';
      
        
        // var disqus_developer = 1;
        var disqus_identifier = 'http://lkdjiin.github.io/blog/2013/07/13/je-veux-mon-blog-octopress-en-francais/';
        var disqus_url = 'http://lkdjiin.github.io/blog/2013/07/13/je-veux-mon-blog-octopress-en-francais/';
        var disqus_script = 'embed.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>



<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) {return;}
  js = d.createElement(s); js.id = id; js.async = true;
  js.src = "//connect.facebook.net/en_US/all.js#appId=212934732101925&xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>



  <script type="text/javascript">
    (function() {
      var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;
      script.src = 'https://apis.google.com/js/plusone.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(script, s);
    })();
  </script>



  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
