<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Catégorie : clojure | Xavier Nayrac]]></title>
  <link href="http://lkdjiin.github.io/blog/categories/clojure/atom.xml" rel="self"/>
  <link href="http://lkdjiin.github.io/"/>
  <updated>2018-08-21T13:39:50+02:00</updated>
  <id>http://lkdjiin.github.io/</id>
  <author>
    <name><![CDATA[Xavier Nayrac]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[Clojure, tests et couleurs]]></title>
    <link href="http://lkdjiin.github.io/blog/2017/02/26/clojure-tests-et-couleurs/"/>
    <updated>2017-02-26T10:53:00+01:00</updated>
    <id>http://lkdjiin.github.io/blog/2017/02/26/clojure-tests-et-couleurs</id>
    <content type="html"><![CDATA[<p>En ce moment je regarde le langage Clojure de plus près.  J’utilise Leiningen
pour gérer les projets, et je voudrais maintenant utiliser la technique du
<em>Test Driven Development</em> pour faire quelques projets.</p>

<p><strong>Problème</strong> : la sortie de <code>lein test</code> n’est pas en couleur. Quand on fait du TDD
avoir une sortie rouge en cas d’échec et verte en cas de succès est vraiment
confortable, ça évite d’avoir à lire. (<em>Notez que Fish m’indique indirectement
l’échec en colorant le <code>$</code> de mon prompt en rouge. C’est déjà ça, mais j’en
voudrais un peu plus.</em>)</p>

<p>J’ai donc cherché et trouvé <a href="https://github.com/venantius/ultra">Ultra</a>, un
plugin pour Leiningen. Il fait bien le boulot, et même plus.</p>

<p><strong>Nouveau problème</strong> : Je passe de 3 secondes d’attente sans le plugin à 7 secondes
avec le plugin. Ce qui a évidemment tendance à <em>casser</em> le flot du TDD, pour le dire
gentiment.</p>

<p>```
$ time lein test
#…
Ran 1 tests containing 1 assertions.
#…</p>

<h1 id="sans-couleurs-276-secondes">=&gt; Sans couleurs 2.76 secondes</h1>
<p>#=&gt; Avec couleurs 6.81 secondes
```</p>

<p><strong>D’où ma question pour ceux/celles qui savent : avez vous une solution pour avoir
une sortie couleur des tests <em>et à la fois</em> un temps de réponse acceptable ?</strong></p>

<p></p>
]]></content>
  </entry>
  
</feed>
