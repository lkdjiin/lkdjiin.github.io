<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Catégorie : documentation | Xavier Nayrac]]></title>
  <link href="http://lkdjiin.github.io/blog/categories/documentation/atom.xml" rel="self"/>
  <link href="http://lkdjiin.github.io/"/>
  <updated>2017-02-28T15:14:16+01:00</updated>
  <id>http://lkdjiin.github.io/</id>
  <author>
    <name><![CDATA[Xavier Nayrac]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[Oui la documentation est utile]]></title>
    <link href="http://lkdjiin.github.io/blog/2017/01/25/oui-la-documentation-est-utile/"/>
    <updated>2017-01-25T11:13:00+01:00</updated>
    <id>http://lkdjiin.github.io/blog/2017/01/25/oui-la-documentation-est-utile</id>
    <content type="html"><![CDATA[<p>J’ai lu récemment un article de blog intitulé
<a href="https://blog.nathanaelcherrier.com/2017/01/11/les-meilleurs-commentaires-ne-secrivent-pas/">Les meilleurs commentaires ne s’écrivent pas</a>.
Le titre est bon. Le sujet est intéressant. Les
intentions de l’auteur sont louables.</p>

<p>Malgré cela, cet article m’a laissé perplexe. Je pense que l’auteur se méprend.
Et comme le sujet m’est important et qu’on ne peut pas laisser de commentaires
sur son blog, j’ai eu envie d’écrire un article pour lui répondre.</p>

<p>Je reprendrai les même titres de partie que l’article original pour vous
permettre de vous repérer plus facilement si besoin.</p>

<!-- more -->

<h2 id="self-documenting-code">Self Documenting Code</h2>

<p>L’article commence par comparer deux bouts de code qui ont le même objectif. Le
premier est mauvais, avec un commentaire nécessaire pour expliquer l’objectif.
Le second est meilleur, et se passe donc d’un commentaire.</p>

<p><em>code 1</em></p>

<p><code>js
// Get the extension off the image filename
let pieces = imageName.split('.')
let extension = pieces.pop()
</code></p>

<p><em>code 2</em></p>

<p><code>js
let extension = getFileExtension(imageName)
</code></p>

<p>Je suis entièrement d’accord avec la conclusion de cette première partie de
l’article :</p>

<blockquote>
  <p>Le nom d’une fonction est déjà censé répondre à la question de ce que fait
une portion de code. Pourquoi ne pas utiliser cette possibilité ?</p>
</blockquote>

<p>Oui le nommage des fonctions/variables/classes/toussa est très important. À tel
point que je pense que c’est une des premières compétences à acquérir pour un/e
débutant/e.</p>

<p>Bref, jusqu’ici je suis entièrement d’accord. C’est après que ça se gâte.</p>

<h2 id="trop-de-commentaires-touffe-le-code">Trop de commentaires étouffe le code</h2>

<p>Dans cette partie de l’article l’auteur prend le code suivant comme exemple:</p>

<p><code>js
/**
 * Get the extension of the file
 * 
 * @param {string} filename - The filename
 * @return {string} the extension of the file  
 */
function getFileExtension(filename) {  
  let pieces = filename.split('.')
  return pieces.pop()
}
</code></p>

<p>Dès le début de cette seconde partie,
un truc me gène beaucoup : l’auteur continue d’appeler ça du
«commentaire» alors qu’il s’agit de «documentation». Certain(e)s diront que je
pinaille, mais pour moi il s’agit d’une différence très importante. Voyons ce
qu’en pense le Larousse par exemple:</p>

<p><strong>Commentaire</strong>: <em>Exposé par lequel on explique, on interprète, on juge un
texte ; notes et éclaircissements destinés à faciliter l’intelligence d’un
texte.</em></p>

<p><strong>Documentation</strong>: <em>Ensemble de documents fournis avec un appareil, un jeu, un
programme informatique, etc., et donnant des renseignements sur leur structure,
leur fonctionnement, leur utilisation, etc.</em></p>

<p>Un commentaire sert donc à faciliter la compréhension d’un texte (pour nous un
bout de code informatique), alors qu’une documentation explique comment ça
marche. Peu importe si on pense que ces définitions ne s’appliquent pas
parfaitement à notre métier, ce qui compte c’est de comprendre que leurs
objectifs sont différents.</p>

<p>J’ai gardé ce sentiment dérangeant jusqu’au bout de l’article, qui entretient un flou
artistique autour du duo commentaire/documentation.</p>

<p>L’auteur se plaint ensuite que, dans un projet en cours:</p>

<blockquote>
  <p>[…] la plupart des commentaires écrits sont des commentaires qui n’existent
que pour passer les tests. Ils sont redondants &amp; inutiles.</p>
</blockquote>

<p>En voyant le code donné plus haut en exemple, on peut comprendre sa position.
<em>Je</em> peux aisément comprendre. Mais la plainte ne me semble pas clairement formulée. Qui est
responsable, selon l’auteur ? L’outil ?
Des collègues qui ne jouent pas le jeu ?
Le management qui impose un process trop strict ?
Ça m’intéresserais beaucoup de connaître le sentiment de l’auteur à ce sujet,
car j’ai l’impression que l’article blâme la documentation alors que le
problème est ailleurs.</p>

<p>L’article continue ainsi:</p>

<blockquote>
  <p>Dites moi qu’il y a une information dans ce commentaire que vous n’aviez pas
en lisant le code !</p>
</blockquote>

<p>Oui je le dis ;) J’en ai une. Et même deux ! Une première sur les types, ce qui
est toujours bon à prendre avec un langage dynamique. Je vois que ça
fonctionne avec une chaîne de caractère, et pas avec un objet File ou Path ou
autre chose encore qui aurait du sens dans mon langage, dans mon framework, etc.
Et j’ai une
seconde information sur l’importance relative de cette méthode : si elle mérite une telle
documentation c’est sûrement qu’elle est destinée à être utilisée par d’autres
objets appartenant à d’autres classes. Autrement dit elle est publique et son
usage n’est pas réservé à une utilisation interne.</p>

<p>Il faut bien avouer que l’exemple donné est assez déprimant. Comme l’auteur le
souligne il y a une certaine redondance, c’est le moins qu’on puisse dire.
Si je devais écrire ce genre de choses
toute la journée j’aurai vite besoin de vacances. Et je comprends que ça le rende
marteau, et qu’il ne puisse plus voir ce genre particulier de documentation en peinture.</p>

<p>Mais ce qui me dérange ici, c’est que ça à tout l’air d’un exemple factice.
Ce code n’est pas destiné à aller en production. Par exemple, il se passe quoi
si le nom du fichier est <code>.bashrc</code>, ou <code>foobar</code> ? Bin ça marche pas.
Tirer une conclusion générale d’un exemple factice, c’est pour le moins
hasardeux.</p>

<p>Surtout que même en l’état actuel de la fonction, cette documentation
pourrait être largement améliorée. J’ai pris la liberté de modifier le
style pour un que je trouve plus léger, mais l’important est dans la
reformulation, pas dans le style.  Je me suis inspiré des documentations de
méthodes similaires trouvées dans d’autres langages:</p>

<p><code>js
// Get the extension (the portion of filename starting from the last period).
//
// filename - The filename (as a string) to retrieve the extension of.
//
// Returns the extension of the file as a string. Or the filename itself
// if it has no dots. Or the filename without the dot if it starts with 
// a dot and don't have another one.
function getFileExtension(filename) {  
  let pieces = filename.split('.')
  return pieces.pop()
}
</code></p>

<p>Bon d’accord, je me suis un peu amusé à la fin. Mais
on voit qu’il y a de quoi dire. Il y a moins de redondance. Et on a bien
plus d’informations, sans avoir besoin d’aller les extraire du code.</p>

<p>L’auteur conclu cette partie en disant qu’on fini par ne plus voir les
commentaires (<em>je rappelle qu’on parle en fait de documentation</em>) dans les projets
où il y en a de trop. Mais je ne pense pas que ça soit un problème, bien au
contraire. Je dirais même qu’avec une bonne coloration syntaxique, la documentation est
encore moins <em>présente</em>, je peux l’oublier encore plus facilement. <strong>Et c’est très bien ainsi.</strong>
La documentation est très utile, mais seulement de temps en temps. Dans ces
moments là, elle permet de gagner un temps précieux. Le reste du temps, elle doit
savoir se faire oublier. Et si j’en ai envie, mon éditeur de texte, ou mon IDE,
doit même pouvoir la faire disparaitre et réapparaitre à ma guise.</p>

<h2 id="la-couverture-par-la-documentation">La couverture par la documentation</h2>

<p>L’article évoque ensuite des outils qui calculent le taux de couverture de la documentation.
Et comme quoi la course aux 100% est problématique.</p>

<p>C’est un tout autre débat, qui mériterait au moins un second article en réponse ;)
Mais qu’on soit d’accord ou pas, là, on blâme clairement l’outil plutôt que l’utilisateur.</p>

<p>Plus loin l’auteur poursuit :</p>

<blockquote>
  <p>pour la documentation un haut taux de couverture est contre-productif et étouffe le code</p>
</blockquote>

<p>???</p>

<p><em>Contre productif</em> ? Permettre aux utilisateurs de votre code, ou à vous même dans
1 an, dans 3 ans, de comprendre le code en un claquement de doigt serait
<em>contre productif</em> ? On écrit le code (et sa documentation) <strong>une fois</strong>, et on les
lit <strong>des dizaines de fois</strong>. Et ça serait <em>contre productif</em> de faciliter cette
lecture ?</p>

<p><em>Étouffe le code</em> ? L’auteur nous a expliqué dans la partie précédente qu’il ne
les voyait plus, ces commentaires/documentation, qu’ils devenaient invisibles
pour lui. Je ne comprend pas comment ça peut-être à la fois invisible et étouffant.
 Mais dans tout les cas, même si je rate quelque chose et au risque de me répéter :
votre éditeur/IDE doit être capable de masquer la documentation si celle-ci vous
gène, sinon il faut changer d’éditeur.</p>

<blockquote>
  <p>Là où le code est propre le commentaire ne sera qu’une redondance sans grand intérêt</p>
</blockquote>

<p>J’ai démontré le contraire.</p>

<blockquote>
  <p>Là où le code est sale le développeur pourra utiliser le commentaire comme une
excuse pour laisser le code sale</p>
</blockquote>

<p>Mais WHAT ?</p>

<p>D’après ce que j’ai saisi, l’auteur travaille au sein d’une équipe. Et l’équipe
fait des <em>code reviews</em>, non ? Si oui, c’est de la responsabilité de <em>l’équipe</em>
de ne pas laisser passer de code sale. Ça n’est en rien la faute de la documentation, ou d’un commentaire,
ou d’un outil quelconque.
Si non, et bien comment dire, c’est juste que j’arrive pas à imaginer un endroit où on ne fait
pas de <em>code review</em>. Je sais que ça existe, j’ai même du y bosser, mais je ne me
souviens plus comment c’est. Plus sérieusement, si il n’y a pas de <em>code review</em> c’est pas
d’écrire ou non de la doc qui va changer grand chose à la <em>propreté</em> du code.
Et dans ce cas la responsabilité irait à l’auteur du code, pas à la documentation.</p>

<p></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Trois-centième article aujourd'hui !]]></title>
    <link href="http://lkdjiin.github.io/blog/2014/05/03/trois-centieme-article-aujourdhui-slash/"/>
    <updated>2014-05-03T21:56:00+02:00</updated>
    <id>http://lkdjiin.github.io/blog/2014/05/03/trois-centieme-article-aujourdhui-slash</id>
    <content type="html"><![CDATA[<p><div class='level-tag level-tag-2'>Niveau : <span>intermédiaire</span></div></p>

<p>Aujourd’hui c’est le 300ème article de ce blog ! Voilà 300 jours que je
pond un article au quotidien. J’en reviens pas !</p>

<!-- more -->

<p>Encore 65 et j’aurais réussi le défi que je m’étais fixé il y a 300 jours:
écrire un article par jour pendant un an.</p>

<p>Bref, le contenu du jour sera : le fichier <code>.yardopts</code>. Qu’est-ce que c’est
encore que ça ?</p>

<p>Pour générer une documentation de vos gems Ruby avec
<a href="http://yardoc.org/">Yard</a> vous écrivez peut-être comme moi une tâche Rake dans ce genre:</p>

<p><code>ruby
desc 'Create documentation'
task :doc do
  exec 'yardoc --title "Titre de la doc"'
end
</code></p>

<p>Là j’ai mis une seule option, mais on en a souvent d’autres, plus des fichiers
à inclure (comme la licence, le changelog, etc).</p>

<p>Et bien j’ai appris aujourd’hui que ces options pouvaient être mises dans
un fichier <code>.yardopts</code>. En reprenant l’exemple précédant, cela deviendrait:</p>

<p><code>raw .yardopts
--title "Titre de la doc"
</code></p>

<p><code>ruby
desc 'Create documentation'
task :doc do
  exec 'yardoc'
end
</code></p>

<p>Non seulement ça évite de surcharger la tâche rake avec des informations
inutiles, mais surtout, ça permet à des service externes comme
<a href="http://www.rubydoc.info/">RubyDoc</a> de savoir exactement ce que vous voulez.</p>

<script id="fb33k8u">(function(i){var f,s=document.getElementById(i);f=document.createElement('iframe');f.src='//api.flattr.com/button/view/?uid=lkdjiin&url='+encodeURIComponent(document.URL);f.title='Flattr';f.height=62;f.width=55;f.style.borderWidth=0;s.parentNode.insertBefore(f,s);})('fb33k8u');</script>

<p>À demain.</p>

<p></p>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Un badge pour la documentation pour vos projets Ruby]]></title>
    <link href="http://lkdjiin.github.io/blog/2014/03/19/un-badge-pour-la-documentation-pour-vos-projets-ruby/"/>
    <updated>2014-03-19T20:56:00+01:00</updated>
    <id>http://lkdjiin.github.io/blog/2014/03/19/un-badge-pour-la-documentation-pour-vos-projets-ruby</id>
    <content type="html"><![CDATA[<p><div class='level-tag level-tag-1'>Niveau : <span>facile</span></div></p>

<p>Un nouveau badge à afficher dans vos README vient de voir le jour. Celui-ci
est consacré à la documentation du code Ruby.</p>

<!-- more -->

<p>Le projet s’appelle <a href="http://inch-pages.github.io/">inch-pages</a> et s’appuie
sur la gem <a href="http://trivelop.de/inch/">inch</a>.</p>

<p>Parmi les utilisateurs ont notera entre autre Haml, Pry, Reek, Rubocop
et Tweeter.</p>

<p>N’hésitez pas à l’utiliser pour faire savoir au monde entier que vos projets
sont bien documentés ;)</p>

<p>Pour ma part, je vais tester ça dès que possible…</p>

<script id="fb33k8u">(function(i){var f,s=document.getElementById(i);f=document.createElement('iframe');f.src='//api.flattr.com/button/view/?uid=lkdjiin&url='+encodeURIComponent(document.URL);f.title='Flattr';f.height=62;f.width=55;f.style.borderWidth=0;s.parentNode.insertBefore(f,s);})('fb33k8u');</script>

<p>À demain.</p>

<p></p>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Aidez-vous : traduisez !]]></title>
    <link href="http://lkdjiin.github.io/blog/2013/12/06/aidez-vous-traduisez/"/>
    <updated>2013-12-06T20:52:00+01:00</updated>
    <id>http://lkdjiin.github.io/blog/2013/12/06/aidez-vous-traduisez</id>
    <content type="html"><![CDATA[<p><div class='level-tag level-tag-1'>Niveau : <span>facile</span></div></p>

<p>D’aussi loin que je me souvienne,
j’ai toujours traduit de la documentation technique anglaise en français.
J’ai commencé par traduire des tutoriaux sur l’assembleur, juste pour moi.
Plus tard, j’ai traduis des pages de documentation sur Netbeans.
C’était un autre temps, un temps où je n’utilisais pas encore Vim, où je
programmais en Java… Et j’ai énormement appris en faisant des traductions.</p>

<!-- more -->

<p>Tous les développeurs ne lisent pas l’anglais, même technique. Certains ont
des problèmes avec la langue de Shakespeare et ont besoin de documentation
en français. On peut toujours se dire que, quand même, ils devraient s’y
mettre, mais en attendant, ils font comment ?</p>

<p>Même quand vous maitrisez assez l’anglais pour lire la documentation dans
la langue originale, il est toujours plaisant de pouvoir
lire dans sa langue, surtout pour une première approche du produit.</p>

<p><strong>Aidez-vous, traduisez de la documentation open-source !</strong> J’y vois trois
avantages:</p>

<ol>
  <li>Quel que soit votre niveau en anglais, vous allez vous améliorer en
en faisant des traductions. Apprendre du nouveau vocabulaire, des
nouvelles tournures, etc.</li>
  <li>En traduisant des documentations, vous allez en apprendre plus sur
le produit, quel qu’il soit, puisque vous serez dans l’obligation
de comprendre chaque détail du produit.</li>
  <li>Ça peut être un avantage pour votre CV. S’il est vrai que certains
employeur ne s’intéressent pas à votre anglais, je n’en ai jamais vu
qui considèrent un bon niveau d’anglais comme un point négatif ;)</li>
</ol>

<p>Même si vous pensez ne pas avoir un niveau suffisant, lancez-vous ! Vous
en retirerez toujours un bénéfice.</p>

<script id="fb33k8u">(function(i){var f,s=document.getElementById(i);f=document.createElement('iframe');f.src='//api.flattr.com/button/view/?uid=lkdjiin&url='+encodeURIComponent(document.URL);f.title='Flattr';f.height=62;f.width=55;f.style.borderWidth=0;s.parentNode.insertBefore(f,s);})('fb33k8u');</script>

<p>À demain.</p>

<p></p>
]]></content>
  </entry>
  
</feed>
